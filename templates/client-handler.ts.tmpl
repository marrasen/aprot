// Code generated by aprot. DO NOT EDIT.
// Handler: {{.StructName}}

import { ApiClient } from './client';
{{- if and .Methods .PushEvents}}
import type { RequestOptions, PushHandler{{if .BaseTypeImports}}, {{join .BaseTypeImports ", "}}{{end}} } from './client';
{{- else if .Methods}}
import type { RequestOptions{{if .BaseTypeImports}}, {{join .BaseTypeImports ", "}}{{end}} } from './client';
{{- else if .PushEvents}}
import type { PushHandler{{if .BaseTypeImports}}, {{join .BaseTypeImports ", "}}{{end}} } from './client';
{{- else if .BaseTypeImports}}
import type { {{join .BaseTypeImports ", "}} } from './client';
{{- end}}

{{range .Enums -}}
export const {{.Name}} = {
{{- range .Values}}
    {{.Name}}: {{.Value}},
{{- end}}
} as const;
export type {{.Name}}Type = typeof {{.Name}}[keyof typeof {{.Name}}];

{{end -}}
{{range .Interfaces -}}
export interface {{.Name}} {
{{- range .Fields}}
    {{.Name}}{{if .Optional}}?{{end}}: {{.Type}};
{{- end}}
}

{{end -}}
{{range .Methods -}}
export function {{.MethodName}}(client: ApiClient{{if hasParams .Params}}, {{paramDecl .Params}}{{end}}, options?: RequestOptions): Promise<{{.ResponseType}}> {
    return client.request<{{.ResponseType}}>('{{.WireMethod}}', [{{paramArray .Params}}], options);
}

{{end -}}
{{range .PushEvents -}}
export function {{.HandlerName}}(client: ApiClient, handler: PushHandler<{{.DataType}}>): () => void {
    return client.onPush<{{.DataType}}>('{{.Name}}', handler);
}

{{end -}}
